#### 云开发布道师学习笔记

##### 一行代码增加数据

![image-20210808194818707](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808194818707.png)

##### 一行代码查询数据

![image-20210808194857108](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808194857108.png)

### 1.2云开发基本功能演示

##### 创建部署云函数

![image-20210808195713005](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808195713005.png)

##### 新建云函数

![image-20210808200239811](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808200239811.png)

1. 输入sum

![image-20210808200258918](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808200258918.png)

2. 修改入口函数的代码

![image-20210808200331775](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808200331775.png)

3. 上传并部署

![image-20210808200406088](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808200406088.png)

### 1.3云开发控制面板介绍

![image-20210808200527671](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808200527671.png)

### 1.4云开发API简介

##### 云开发初始化

![image-20210808205950301](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808205950301.png)

##### 服务端初始化

![image-20210808210103221](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808210103221.png)

##### 初始化选项env

![image-20210808210149458](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808210149458.png)

可以实现调用两个环境的内容

##### 服务端获取用户身份信息

![image-20210808210259874](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210808210259874.png)

### 2.1云开发数组查询![image-20210811071717641](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811071717641.png)

### 2.2字段类型的查询

![image-20210811071920598](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811071920598.png)

![image-20210811072028612](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072028612.png)

### 2.3正则表达式

![image-20210811072241652](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072241652.png)

![image-20210811072359308](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072359308.png)

### 2.4地理位置查询

![image-20210811072759734](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072759734.png)

![image-20210811072816420](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072816420.png)

### 2.5数据库权限管理

![image-20210811072927836](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811072927836.png)

### 4.1文件存储

![image-20210811073354101](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073354101.png)

![image-20210811073419064](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073419064.png)

### 4.2生成文件的临时链接

![image-20210811073532538](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073532538.png)

![image-20210811073604690](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073604690.png)

![image-20210811073711881](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073711881.png)

### 5.1云函数定时器的使用

![image-20210811073816765](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811073816765.png)

![image-20210811074222365](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811074222365.png)

![image-20210811074252697](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811074252697.png)

##### 新建一个云函数

![image-20210811074022844](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811074022844.png)

##### 上传触发器

![](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811074123017.png)

### 6.101cloud_todo

#### 版本管理上传到git仓库

![image-20210811081157684](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811081157684.png)

#### 安装vant weapp，以及基本使用

1. 

![image-20210811081417581](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811081417581.png)

2. 再生成配置文件

   ![image-20210811081614196](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811081614196.png)

3. 详情中勾选使用npm模块

   ![image-20210811081736747](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811081736747.png)

4. 再工具中构建npm，就有了node_modules包，就可以使用组件了![image-20210811081854485](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811081854485.png)

5. index.json中引入button组件![image-20210811082253237](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811082253237.png)

6. button组件的使用

   ![image-20210811082411361](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811082411361.png)

7. 重复用的组件在app.json中声明

   ![image-20210811082806553](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811082806553.png)

8. 添加编译模式来更换启动页面

#### 下拉刷新的实现

1. 在json文件中![image-20210811092202904](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811092202904.png)

2. 在js文件中![image-20210811092621535](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811092621535.png)

#### 上划触底，增加更新数据

##### 分页查询

![image-20210811094236381](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811094236381.png)

##### this.setData()设置回调函数

![image-20210811094817556](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811094817556.png)

##### loading提示框

![image-20210811095000595](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811095000595.png)

#### navigator页面跳转传参，并且在新的页面接收参数

![image-20210811101732250](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811101732250.png)

新页面的js里面

![image-20210811101754303](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811101754303.png)

#### 上传图片并显示

![image-20210811134425637](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210811134425637.png)

#### 位置信息的调用

选择位置chooseLocation

#### 导航模块

wx.openLocation

#### 实现消息提醒

### 











### 7.1 在云函数中查询数据（云函数代码改变要上传并部署）

![image-20210816203557092](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816203557092.png)

##### 云函数调用

![image-20210816203709518](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816203709518.png)

##### 创建云函数

![image-20210816203758225](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816203758225.png)

##### 在云函数的index。js中写入

![image-20210816203911416](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816203911416.png)

##### 上传

![image-20210816203926742](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816203926742.png)

### 7.2 在云函数中新增数据

![image-20210816204023450](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204023450.png)

##### 云函数调用

![image-20210816204127532](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204127532.png)

##### 云函数中add

![image-20210816204229366](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204229366.png)

### 7.3在云函数中删除数据

![image-20210816204330258](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204330258.png)

![image-20210816204341350](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204341350.png)

![image-20210816204401428](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204401428.png)

### 7.4在云函数中编辑数据

![image-20210816204559798](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204559798.png)

##### 云函数调用

![image-20210816204812583](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204812583.png)

##### 建云函数，写入代码，上传并部署

![image-20210816204741281](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204741281.png)

### 7.5在云函数中使用存储资源

![image-20210816204859257](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204859257.png)

![image-20210816204930532](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204930532.png)

![image-20210816204955950](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816204955950.png)

![image-20210816205017039](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205017039.png)

![image-20210816205028190](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205028190.png)

##### 代码示例

调用创建上传云函数

![image-20210816205103752](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205103752.png)

![image-20210816205209572](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205209572.png)

### 7.6在云函数中访问第三方服务

![image-20210816205343167](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205343167.png)

##### 调用创建云函数

![image-20210816205447597](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205447597.png)

##### 安装云函数需要的包

![image-20210816205523791](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205523791.png)

![image-20210816205541624](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205541624.png)

##### 编写云函数并上传部署

![image-20210816205758461](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205758461.png)

Post请求

![image-20210819105549707](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819105549707.png)

### 7.7云函数中访问第三方数据库

![image-20210816205914275](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205914275.png)

##### 实例

##### 云函数的调用

![image-20210816205949211](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816205949211.png)

##### 云函数创建，安装包

![image-20210816210010472](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210010472.png)

##### 编写云函数，上传云端

![image-20210816210139117](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210139117.png)

![image-20210816210152348](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210152348.png)

### 8.1云开发下的用户管理

![image-20210816210312932](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210312932.png)

##### 云开发实现用户信息的收集

![image-20210816210720433](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210720433.png)

![image-20210816210745366](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210745366.png)

### 8.2云函数中生成二维码

![image-20210816210833343](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210833343.png)

![image-20210816210854641](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210854641.png)

![image-20210816210909339](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210909339.png)

![image-20210816210952428](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816210952428.png)

##### 调用云函数

![image-20210816211104670](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211104670.png)

##### 创建云函数，下载云函数的indexjs要用到的包

![image-20210816211234538](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211234538.png)

![image-20210816211253636](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211253636.png)

##### 查好文档

![image-20210816211349810](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211349810.png)

![image-20210816211426279](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211426279.png)

![image-20210816211441859](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211441859.png)

##### 把拿到的结果上传到云存储里

![image-20210816211614775](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211614775.png)

##### 补全appId,secret

![image-20210816211651272](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211651272.png)

##### 再把云函数上传到云端并部署

##### 再用

![image-20210816211808578](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211808578.png)

### 再云函数中生成小程序码

![image-20210816211924453](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816211924453.png)

##### 调用云函数

![image-20210816212007023](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212007023.png)

##### 创建云函数，终端打开，安装相应组件

![image-20210816212059820](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212059820.png)

##### 云函数里编写代码，拿到结果上传到云存储

![image-20210816212217329](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212217329.png)

##### 上传并部署

### 8.4在云函数中推送模板消息

![image-20210816212421358](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212421358.png)

##### 获取formId, 用formid来推送消息

![image-20210816212558918](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212558918.png)

![image-20210816212637747](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212637747.png)

##### 新建云函数，终端安装包

![image-20210816212715602](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212715602.png)

##### 编写云函数

![image-20210816212806402](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212806402.png)

![image-20210816212841089](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212841089.png)

##### touser的设置

![image-20210816212924816](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816212924816.png)

##### template_id要在微信公众平台的

![image-20210816213026268](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213026268.png)

![image-20210816213050029](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213050029.png)

![image-20210816213102236](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213102236.png)

![image-20210816213114754](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213114754.png)

##### 编写云函数代码

![image-20210816213155148](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213155148.png)

![image-20210816213300992](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213300992.png)

### 8.5云开发短信验证码应用

![image-20210816213619828](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213619828.png)

![image-20210816213932725](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213932725.png)

![image-20210816213947947](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816213947947.png)

##### 演示

![image-20210816214010234](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214010234.png)

##### 调用云函数

![image-20210816214037594](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214037594.png)

##### 新建云函数，安装依赖

![image-20210816214109211](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214109211.png)

##### 编写云函数代码

![image-20210816214336977](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214336977.png)

![image-20210816214414488](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214414488.png)

#####  查找要填的appId,appKey, 短信签名smsSign

##### 腾讯云后台，短信产品

![image-20210816214612073](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214612073.png)

开通产品后，添加应用，就能看到appId,appKey

![image-20210816214708775](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214708775.png)

在国内短信可以配置签名，模板

![image-20210816214757098](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214757098.png)

### 8.6云开发发送邮件验证码

![image-20210816214910103](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214910103.png)

![image-20210816214924781](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214924781.png)

##### 实例

![image-20210816214951977](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816214951977.png)

##### 调用云函数

![image-20210816215012922](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215012922.png)

![image-20210816215050410](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215050410.png)

##### 创建云函数，安装包

![image-20210816215125637](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215125637.png)

##### 编写云函数

![image-20210816215144869](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215144869.png)

![image-20210816215221673](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215221673.png)

##### 找需要填写的api_key与domain

![image-20210816215300515](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215300515.png)

点击去域名

![image-20210816215358469](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215358469.png)

编写云函数

![image-20210816215412856](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210816215412856.png)

### 9.1访问量统计

![image-20210818091931323](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818091931323.png)

![image-20210818091959613](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818091959613.png)

![image-20210818092053843](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818092053843.png)

![image-20210818092110562](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818092110562.png)

### 9.2复杂查询

![image-20210818092823581](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818092823581.png)

![image-20210818092912947](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818092912947.png)

### 9.3数据排序

![image-20210818092952616](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818092952616.png)

![image-20210818093012601](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093012601.png)

### 9.4数据计数

![image-20210818093148036](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093148036.png)

![image-20210818093202402](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093202402.png)

### 9.5字段查询

![image-20210818093328278](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093328278.png)

![image-20210818093344176](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093344176.png)

#### 实例

![image-20210818093529909](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818093529909.png)

### 9.6实现数组操作

![image-20210818094046793](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094046793.png)

![image-20210818094107619](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094107619.png)

### 9.7数据更新操作

![image-20210818094209866](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094209866.png)

![image-20210818094223778](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094223778.png)

### 9.8云函数实现数据批量更新

![image-20210818094415202](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094415202.png)

##### 创建云函数并安装相关依赖

![image-20210818094609776](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094609776.png)

##### 云函数编写并上传

![image-20210818094726432](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094726432.png)

##### 云函数调用

![image-20210818094655821](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094655821.png)

### 9.9数据删除

![image-20210818094806797](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094806797.png)

![image-20210818094822494](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094822494.png)

##### 云函数上批量删除

![image-20210818094928874](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818094928874.png)

### 9.10模糊查询

![image-20210818095120856](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818095120856.png)

![image-20210818095344637](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818095344637.png)

### 10.1下载图片保存到本地

![image-20210818101036892](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818101036892.png)

### 10.2将图片分享到电脑

![image-20210818101321962](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818101321962.png)

##### 获取文件临时路径

![image-20210818101431945](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818101431945.png)

##### 设置系统剪切板内容

![image-20210818101603051](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818101603051.png)

### 朋友圈分享生成-小程序码生成流程

![image-20210818223002505](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223002505.png)

![image-20210818223043838](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223043838.png)

##### 新建云函数并安装got依赖（http请求）

![image-20210818223159573](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223159573.png)

##### 找appID与AppSecret

![image-20210818223301640](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223301640.png)

##### 获取AccessToken

![image-20210818223356923](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223356923.png)

##### 编写云函数完成后上传并部署（获取到了toKen）

![image-20210818223449320](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223449320.png)

##### 云函数获取小程序码的接口

![image-20210818223608338](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223608338.png)

##### 获取小程序码，并上传到云存储里

![image-20210818223811384](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223811384.png)

##### 从云存储中下载文件

![image-20210818223901449](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818223901449.png)

##### 在小程序中调用云函数获取fileID，来从云存储中获取文件

![image-20210818224025682](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818224025682.png)

##### 保存小程序码

![image-20210818224153667](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210818224153667.png)

### 微信内容安全检测

文本内容检测api

![image-20210819105811677](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819105811677.png)

调用云函数

![image-20210819110450677](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819110450677.png)

安装依赖

![image-20210819110610167](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819110610167.png)

需要提前获取接口调用凭证

![image-20210819110824203](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819110824203.png)

![image-20210819110904272](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819110904272.png)

### 云函数对接腾讯云图片鉴黄

![image-20210819111221108](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819111221108.png)

![image-20210819111153291](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819111153291.png)

![image-20210819111346399](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819111346399.png)

### TCBRouter

![image-20210819111552020](C:\Users\HDR\AppData\Roaming\Typora\typora-user-images\image-20210819111552020.png)

